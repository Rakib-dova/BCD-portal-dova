extends layout

block content
  .max-width
    section.hero.is-small.is-com
      .hero-body-noImage
        .title.is-family-noto-sans #{title}
        .subtitle.is-family-noto-sans #{engTitle}

  .container
    div.title-box-journallzing
      h4.title-text-journallzing.text-inbox 出力内容登録
    .box
      include invoicePDFHeader
      include invoicePDFLines
      include invoicePDFFooter
      .grouped-button.margin-top-40p
        a.button.mr-6.show-modal(name = 'backButton' data-target = "back-modal") 戻る
        if title === 'PDF請求書作成'
          a.button.mr-6.is-success#save-btn 一時保存
        else 
          a.button.mr-6.is-success#update-btn 一時保存
        a.button.is-link.show-modal(name = 'outputButton' data-target = "output-modal") 出力
  
  include footer

  div#invoice-json(hidden="true") #{invoice}
  div#lines-json(hidden="true") #{lines}

  .modal#back-modal
    .modal-background.cancel-button(data-target='back-modal')
    .modal-card.is-family-noto-sans
      header.modal-card-head
        p.modal-card-title.title.mb-0 注意
        button.delete(data-target='back-modal')
      section.modal-card-body
        p 画面を離れると入力した内容が失われます。画面を離れますか？
      footer.modal-card-foot
        div.button-area
          a.button#cancel-btn.cancel-button(data-target='back-modal') キャンセル
          a.button.is-link.mr-6(href='/pdfInvoices/list') 離れる 
  
  .modal#output-modal
    .modal-background.cancel-button(data-target='output-modal')
    .modal-card.is-family-noto-sans
      header.modal-card-head
        p.modal-card-title.title.mb-0 処理中
        button.delete(data-target='output-modal')
      section.modal-card-body
        p PDFを出力完了すると１０日後に請求書下書きが削除されます。
        p 出力されたPDFの保管をお願いいたします。
      footer.modal-card-foot
        div.button-area
          a.button#cancel-btn.cancel-button(data-target='output-modal') キャンセル
          a.button.is-link.mr-6(href=`/requestApproval/${documentId}`) 確定 

block append scripts
  script(src="/js/lib/utils.js")
  script(src="/js/pdfInvoice-page.js")
  link(rel='stylesheet', type='text/css', href='/css/inbox.css')
