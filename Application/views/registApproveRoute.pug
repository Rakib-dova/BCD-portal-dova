extends layout

block content
  .max-width
    section.hero.is-small.is-com
      .hero-body-noImage
        .title.is-family-noto-sans #{logTitle}
        .subtitle.is-family-noto-sans #{logTitleEng}

    .columns.is-centered
      .column.is-11
        .container.is-max-widescreen.is-family-noto-sans
          form#form(method="POST")
            article.panel.is-info
              h2.panel-heading #{panelHead}
              .panel-block
                .container.mb-6
                  .columns.is-centered.is-fullwidth
                    .column.is-fullwidth
                      .field.card
                        .card-content
                          .field
                            label(for= idForCodeInput).input-label #{approveRouteNameLabel}
                            p(id= requiredTagCode).input-label-required.input-label （必須）
                            p#RequiredErrorMesageForCode.input-label-required.is-invisible
                            .control
                              .columns.ml-0.pl-0.alignCenterChild
                                .column.pl-0
                                  input.input(type="text" id= idForApproveRouteNameInput name= idForApproveRouteNameInput value= valueForApproveRouteNameInput maxlength=40 placeholder='全角・半角文字・英数字40文字まで' required) 
                      .field.card                                    
                        .card-content
                          .field
                            .columns
                              .column
                                .column.ml-0.pl-0 
                                  .button.is-link.mr-2#btnOpenApproveRouteModal(type="button") 承認者追加
                                .column.p-0.lineAccountCodeForBulk(id='bulkInsertNo1')
                                  .columns.m-0.p-1.lineAccountcodeForBulk(id='bulkInsertNo1_lineAccountCode1' data-idx='1')
                                    .column.p-0.border-div-rad-4
                                      .field.is-horizontal.m-1.has-addons-centered
                                        .field-label.is-normal.m-0.text-center
                                          label 最終経理承認                                      
                                        .field-label.is-normal.m-0.text-center
                                          label 最終承認者名
                                        .field-label.is-normal.m-0.text-center
                                          label メールアドレス
                                        .field-label.is-normal.m-0.fixed-void-66
                                          label 　
                                      .field.is-horizontal.p-1
                                        .field-body.m-1
                                          .field.text-center
                                            p.control 最終承認                                                                             
                                        .field-body.m-1
                                          .field
                                            p.control
                                              input.input.input-approveRouteLastUserName(type='text' id=`lastLineApproveRoute_approveUserName` value readonly)
                                        .field-body.m-1
                                          .field
                                            p.control
                                              input.input.input-approveRouteLastUserMailAddress(type='text' id=`lastLineApproveRoute_approveUserMailAddress` value readonly)
                                        .field-body.m-1.is-4.text-center
                                          .field
                                            p.control
                                              a.button.is-link.show-modal.btn-search-main.BtnlineApproveRouteUserSearch(data-target='ApproveRoute-modal') 検索
                                    .column.is-0.p-1
                              
                  .grouped-button                                  
                    a.button.mr-6(href='/portal')  戻る
                    a.button.is-link#btn-confirm(disabled='true') 登録
  .modal#check-modal
    .modal-background.cancel-button(data-target='check-modal')
    .modal-card.is-family-noto-sans
      header.modal-card-head
        p.modal-card-title.title.mb-0 #{modalTitle}
        button.delete(data-target='check-modal')
      section.modal-card-body
        table.table.is-striped.is-bordered.is-fullwidth
          tbody
            tr
              td 承認者名（性）
              td
                p#checksetApproveUserLastNameInputId
            tr
              td 承認者名（名）
              td
                p#checksetApproveUserFirstNameInputId
            tr
              td メールアドレス
              td
                p#checksetApproveUserMailAddressInputId                
      footer.modal-card-foot
        div.button-area
          a.button#cancel-btn.cancel-button(data-target='check-modal') キャンセル
          a.button.is-success#submit 登録
  
  .modal#caution-modal
    .modal-background.cancel-button(data-target='caution-modal')
    .modal-card.is-family-noto-sans
      header.modal-card-head
        p.modal-card-title.title.mb-0 
        button.delete(data-target='caution-modal')
      section.modal-card-body
        p#caution-message
      footer.modal-card-foot
        div.button-area
          a.button.is-danger.cancel-button(data-target='caution-modal') 確認

  .modal.modal-fx-fadeInscale#approveRoute-modal
    .modal-background.cancel-button(data-target="approveRoute-modal")
    .modal-card
      header.modal-card-head
        p.modal-card-title #{modalTitle}
        button#deleteApproveRoute-modal.delete(type="button" data-target="approveRoute-modal")
      section.modal-card-body
          .columns.is-centered.m-0
            .column.p-1
              .field.is-horizontal
                .field-label.is-normal.item-title-modal-approve
                  label 承認者名（性）
                .field-body
                  .field
                    p.control
                      input.input(type="text" id= 'searchModalApproveUserLastName' value )
          .columns.is-centered.m-0
            .column.p-1
              .field.is-horizontal
                .field-label.is-normal.item-title-modal-approve
                  label 承認者名（名）
                .field-body
                  .field
                    p.control
                      input.input(type="text" id= 'searchModalApproveUserFirstName' value )
          .columns.is-centered.m-0
            .column.p-1
              .field.is-horizontal
                .field-label.is-normal.item-title-modal-approve
                  label メールアドレス
                .field-body
                  .field
                    p.control
                      input.input(type="text" id= 'searchModalApproveUserMailAddress' value )
              .control
                .field.is-grouped.is-grouped-centered
                  .columns.m-0
                    .column.p-0
                      div.button-area
                        .button.is-link#btnSearchApproveUser(type="button") 検索

          .columns.is-fullwidth.m-0
            .column.is-fullwidth.p-0
              .field.is-horizontal#displayInvisible
                .box.is-fullwidth.px-2
                  .subtitle.m-3 検索結果 
                  table.table
                    thead
                      td 担当者名
                      td メールアドレス
                    tbody#displayFieldResultBody
                 
      footer.modal-card-foot.modal-address-foot

  template#searchResultCode
    tr.rowApproveUsers
      td.columnNoApproveUser
        .field.is-horizontal
          .field-body
            p.control.noApproveUserMessage              
      td.columnApproveUserName
      td.columnApproveUserMailAddress
  include footer
block append scripts
  script(src="/js/registApproveRoute-page.js")
  link(rel='stylesheet', type='text/css', href='/css/registApproveRoute.css')